---
{"dg-publish":true,"dg-æ­£åˆ™è¡¨è¾¾å¼":true,"permalink":"/home/æ­£åˆ™è¡¨è¾¾å¼/","dgPassFrontmatter":true}
---


# ä¸€ã€åˆå§‹SQLæ³¨å…¥

	sql æ³¨å…¥ï¼š

   æŠŠç”¨æˆ·è¾“å…¥çš„æ•°æ®è¢«å½“åšæ•°æ®åº“ä»£ç è¿›è¡Œæ‰§è¡Œ

æ•°æ®åº“ä»£ç  => mysql ä»£ç  select SQLè¯­å¥

æ¸—é€æµ‹è¯• çš„å‘½è„‰å°±æ˜¯ä¼ å‚

## ä»€ä¹ˆæ˜¯æ³¨å…¥

	æ³¨å…¥æ”»å‡»çš„æœ¬è´¨ï¼Œæ˜¯æŠŠç”¨æˆ·è¾“å…¥çš„æ•°æ®å½“ä½œä»£ç æ‰§è¡Œã€‚

è¿™é‡Œæœ‰ä¸¤ä¸ªå…³é”®æ¡ä»¶ï¼š

ç¬¬ä¸€æ˜¯ç”¨æˆ·èƒ½å¤Ÿæ§åˆ¶è¾“å…¥
ç¬¬äºŒä¸ªæ˜¯åŸæœ¬ç¨‹åºè¦æ‰§è¡Œçš„ä»£ç ï¼Œæ‹¼æ¥äº†ç”¨æˆ·è¾“å…¥çš„æ•°æ®ç„¶åè¿›è¡Œæ‰§è¡Œ

é‚£ä»€ä¹ˆæ˜¯SQLæ³¨å…¥ï¼Œå°±æ˜¯é’ˆå¯¹sqlè¯­å¥çš„æ³¨å…¥ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºç”¨æˆ·è¾“å…¥çš„æ•°æ®å½“åšSQLè¯­å¥çš„ä»£ç æ‰§è¡Œäº† SQLæ³¨å…¥æ˜¯1998å¹´ä¸€åå«åšå¦‚rfpçš„é»‘å®¢å‘è¡¨çš„ä¸€ç¯‡æ–‡ç« æ‰€è¿›å…¥å¤§ä¼—è§†çº¿çš„

å¦‚ä½•é˜²æŠ¤ï¼Ÿç°åœ¨å¸¸ç”¨çš„é˜²æŠ¤è½¯ä»¶ä¸»æµæ ¸å¿ƒå°±æ˜¯

é€šè¿‡æ­£åˆ™æ¥è¿‡æ»¤ä¼ å‚

è¿‡æ»¤ => æŠŠè„çš„ä¸œè¥¿è¿‡æ»¤æ‰(è§„åˆ™)

   è®¡ç®—æœºä¸­çš„è¿‡æ»¤æ˜¯äººè®¾å®šçš„è§„åˆ™
   
a' Or 1 = 1 --qwe  123
'  Or 1=1  --qwe 

```php
$email = 'yuxiaoxiao@example.com';
$domain = strstr($email,'@');
echo $domain; //æ‰“å°@example.com
$user=strstr($email,'@',true);//ä»PHP5.3.0èµ·
echo $user; //æ‰“å° yuxiaoxio
```
å¦‚æœå­—ç¬¦ä¸²æœ€åä¸º0 ï¼Œå¯ä»¥ç”¨strlen æ˜¾ç¤ºå‡ºæ¥ã€‚
æ¡ˆä¾‹
```php  
<?php 
$a = strstr('yuxiaoxiao@example.com0','0');
var_dump($a);
if(strlen($a)){echo 'ok';}
//åˆ¤æ–­å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œå°±ä¸ä¼šå—åˆ°0å¹²æ‰°
?> 
```


# äºŒã€ä»€ä¹ˆæ˜¯æ­£åˆ™è¡¨è¾¾å¼

ğŸ†æ­£åˆ™è¡¨è¾¾å¼ï¼Œåˆç§°è§„åˆ™è¡¨è¾¾å¼ã€‚è®¡ç®—æœºç§‘å­¦çš„ä¸€ä¸ªæ¦‚å¿µã€‚æ­£åˆ™è¡¨è¾¾å¼é€šå¸¸è¢«ç”¨æ¥æ£€ç´¢ã€æ›¿æ¢å“ªäº›ç¬¦å·æŸä¸ªæ¨¡å¼(è§„åˆ™)çš„æ–‡æœ¬ã€‚

## ğŸ‡æ­£åˆ™è¡¨è¾¾å¼çš„ç‰¹ç‚¹æ˜¯ï¼š
- 1.çµæ´»æ€§ã€é€»è¾‘æ€§å’ŒåŠŸèƒ½æ€§éå¸¸å¼ºï¼›
- 2.å¯ä»¥è¿…é€Ÿåœ°ç”¨çº§ç®€å•çš„æ–¹å¼è¾¾åˆ°å­—ç¬¦ä¸²çš„å¤æ‚æ§åˆ¶ã€‚
- 3.å¯¹äºåˆšæ¥è§¦çš„äººæ¥è¯´ï¼Œæ¯”è¾ƒæ™¦æ¶©éš¾æ‡‚ã€‚

ğŸ†æ­£åˆ™è¡¨è¾¾å¼ç”¨é€”ï¼š

- åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ç¬¦åˆæŸä¸€è§„åˆ™ ï¼ˆåˆ¤æ–­æ˜¯å¦ç¬¦å·æ‰‹æœºå·ã€é‚®ç®±è§„åˆ™ï¼‰ã€‚
- ä»ä¸€ä¸ªå­—ç¬¦ä¸²æ‰¾åˆ°ç¬¦åˆè§„åˆ™çš„æ‰€æœ‰å­—ç¬¦ä¸²(å–HTMLæ ‡ç­¾å)ã€‚



# ä¸‰ã€PHPä¸­æ­£åˆ™è¡¨è¾¾å¼å¸¸ç”¨å‡½æ•°

ğŸ‡PHP ä¸­ä½¿ç”¨æ­£åˆ™ä¸€å®šè¦åŠ ä»£è¡¨æ­£åˆ™çš„æ ‡è¯†  // 

ğŸ¥‘preg_match_all(æ­£åˆ™è¡¨è¾¾å¼,åŒ¹é…å­—ç¬¦ä¸²,åŒ¹é…åˆ°çš„ä¸œè¥¿æ”¾åˆ°æ•°ç»„)
 ğŸ¥‘ è¿”å›åŒ¹é…åˆ°çš„æ¬¡æ•°

ğŸŒ¶ï¸preg_replace (æ­£åˆ™è¡¨è¾¾å¼,æ›¿æ¢æˆä»€ä¹ˆ,åŒ¹é…å­—ç¬¦ä¸²)
 ğŸŒ¶ï¸è¿”å›æ›¿æ¢åçš„ç»“æœ


æ›¿æ¢æ”¯æŒæ•°ç»„æ ¼å¼

# å››ã€æ­£åˆ™è¡¨è¾¾å¼è¯­æ³•- å­—ç¬¦

## å¸¸ç”¨è½¬ä¹‰å­—ç¬¦ï¼š

```
- æ•°å­—ï¼š\d
- éæ•°å­—ï¼š\D
- ç©ºç™½å­—ç¬¦ï¼ˆç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢é¡µç¬¦ç­‰ï¼‰ï¼š \s
- éç©ºç™½å­—ç¬¦ï¼š \S
- å•è¯å­—ç¬¦ï¼šï¼ˆ26ä¸ªè‹±æ–‡å­—æ¯+æ•°å­—+ä¸‹åˆ’çº¿_ï¼‰: \w
- éå•è¯å­—ç¬¦ï¼š \W


```

## è‡ªå®šä¹‰å­—ç¬¦ç»“åˆ

- å­—ç¬¦é›†åˆï¼š[å•ä¸ªå­—ç¬¦æˆ–å­—ç¬¦åŒºé—´]ï¼Œç”¨äºåŒ¹é…é›†åˆå†…å­—ç¬¦

å¦‚ï¼š
 - [a-z]è¡¨ç¤ºa-zè¿™26ä¸ªå°å†™å­—æ¯
 - [0-9a-z]è¡¨ç¤º0-9 è¿™10ä¸ªæ•°å­—å’Œa-z26ä¸ªå°å†™å­—æ¯
 - [135a-h] è¡¨ç¤ºåŒ…å«æ•°å­—1ï¼Œ3ï¼Œ5å’Œå­—æ¯a-hè¿™8ä¸ªå­—æ¯
 - æ³¨æ„ï¼šä¸¤ä¸ªä¸åŒå­—ç¬¦æ®µé—´è¯·å‹¿ä½¿ç”¨ï¼Œéš”å¼€ã€‚
- éé›†ï¼š[^å•ä¸ªå­—ç¬¦æˆ–å­—ç¬¦åŒºé—´]ï¼Œç”¨äºåŒ¹é…éé›†åˆå†…å­—ç¬¦ã€‚
	å¦‚ï¼š
-  ã€^0-9ã€‘ç¤ºåŒ¹é…æ‰€æœ‰éæ•°å­—å­—ç¬¦ã€‚
-  ã€^a-zA-zã€‘è¡¨ç¤ºåŒ¹é…æ‰€æœ‰éå­—æ¯å­—ç¬¦ã€‚

è®¡ç®—æœºçš„æœ¬è´¨æ˜¯æ•°å­—è¿ç®—  å¤§å°å†™æ˜¯æœ‰è¯´æ³•

2>1    10>5

asciiç ï¼š å°†å­—ç¬¦ä¸²å˜åŒ–ä¸ºæ•°å­—

##  æ­£åˆ™è¡¨è¾¾å¼çš„è¯­æ³• - å…³é”®å­—

`ï¼ˆï¼‰=> å’Œæ•°å­—ä¸€æ ·å¾ˆåƒï¼Œä»£è¡¨è¿™æ˜¯ä¸€ä¸ªæ•´ä½“ã€‚

`^ => åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½®

`$ =>åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„ç»“å°¾ä½ç½®

`. => é€šé…ç¬¦[ä»£è¡¨ä»»æ„å­—ç¬¦]  [ä¸åŒ¹é…æ¢è¡Œ]

`* =>  åŒ¹é…0æ¬¡æˆ–è€…å¤šæ¬¡

`+  => åŒ¹é…1æ¬¡æˆ–è€…å¤šæ¬¡

`\  => è½¬ä¹‰å­—ç¬¦

`|  => ä¸¤é¡¹ä¹‹é—´çš„ä¸€ä¸ªé€‰æ‹©ã€‚

ã€^b-yã€‘é™¤äº†b-yçš„ä¸€åˆ‡ ï¼ˆä¸­å£å·é‡Œé¢çš„æ˜¯å–åï¼‰
ã€a-zã€‘åŒ¹é…a-zçš„ä¸€åˆ‡

ï¼ˆï¼‰ä»£è¡¨æ˜¯ä¸€ä¸ªæ•´ä½“ 

`^ åŒ¹é…å­—ç¬¦ä¸²çš„å¼€å¤´

`$  åŒ¹é…ç»“å°¾

`. åŒ¹é…ä¸€åˆ‡  nf .09
```php
$a ='zkaq123123';
var_dump(preg_match_all('/(zkaq.+)|(bbs.+)/',$a,$b));
var_dump($b);

```

`* åŒ¹é…0æ¬¡æˆ–è€…å¤šæ¬¡ 

`+ åŒ¹é…1æ¬¡æˆ–è€…å¤šæ¬¡   
 [[å­¦ä¹ åŒº(æœªæŒæ¡)/æ˜¯è¿ç»­çš„å­—ç¬¦\|æ˜¯è¿ç»­çš„å­—ç¬¦]]




[[å­¦ä¹ åŒº(æœªæŒæ¡)/é™å®šå¼€å¤´ï¼Œé™å®šç»“å°¾å°±æ˜¯å­—ç¬¦é•¿åº¦\|é™å®šå¼€å¤´ï¼Œé™å®šç»“å°¾å°±æ˜¯å­—ç¬¦é•¿åº¦]]

4*(5+3) = 4*8 =32 


## æ­£åˆ™è¡¨è¾¾å¼çš„è¯­æ³• - é™å®šç¬¦ + ä¿®é¥°ç¬¦

é™å®šç¬¦ï¼š{}

{n} => ä¾‹å¦‚ï¼šo{8} æ„æ€æ˜¯æŒ‡åªæœ‰è¿èµ·æ¥8ä¸ª0æ‰ä¼šè¢«åŒ¹é…

{n,} => ä¾‹å¦‚ï¼š o{2,} æ„æ€æ˜¯åªè¦2ä¸ª0åŠå…¶ä»¥ä¸Šçš„å°±ä¼šè¢«åŒ¹é…

{n,m} => ä¾‹å¦‚ï¼š o{2,4} æ„æ€æ˜¯æœ€å°‘åŒ¹é…2ä¸ª0ï¼Œæœ€å¤šåŒ¹é…4ä¸ª0

æ³¨ï¼šè¢«åŒ¹é…æ—¶ï¼Œé»˜è®¤åŒ¹é…æœ€å¤šçš„æ¬¡æ•°
```php
$a ='9999';
var_dump(preg_match_all('/9{2,3}/',$a,$b));
var_dump($b);
//ç»“æœæ˜¯
int(1) array(1) { [0]=> array(1) { [0]=> string(3) "999" } }
```

ä¿®é¥°ç¬¦ï¼š

/i  => ä¸åŒºåˆ†å¤§å°å†™
/A  => åŒ¹é…è§„åˆ™å¿…é¡»ä»å¤´å¼€å§‹åŒ¹é…
/s  => .å°†åŒ¹é…ä¸€åˆ‡å­—ç¬¦
/x  => æ­£åˆ™è¡¨è¾¾å¼çš„ç©ºç™½å­—ç¬¦ä¼šè¢«å¿½ç•¥

[æ­£åˆ™è¡¨è¾¾å¼æ¡ˆä¾‹](https://www.cnblogs.com/-run/articles/2371078.html)

ç»ƒä¹  
```php
<?phpÂ Â   
$key='flag{********************************}';Â 
$Regular=Â preg_match("/zkaq.*key.2,9}:\/.*\/(key*key)/i",Â trim($_GET["id"]),Â $match);Â   
if(Â $RegularÂ ){Â Â   
Â Â die('key:Â '.$key);Â   
}
```

åˆ†æ dieæ˜¯è¾“å‡ºæ„æ€

ä»£ç if die 
è¦æ‰§è¡Œåˆ°dieè¿™é‡Œ

ç»“æœ

`preg_match("/zkaq.*key.{2,9}:\/.*\/(key*key)/i", trim($_GET["id"]), $match)

[[å­¦ä¹ åŒº(æœªæŒæ¡)/preg_match#^ba8839\|preg_match#^ba8839]]çš„è¯­æ³•æ„æ€æ˜¯(åŒ¹é…è§„åˆ™,åŒ¹é…å­—ç¬¦ä¸²,åŒ¹é…è¿”å›çš„æ•°ç»„)







